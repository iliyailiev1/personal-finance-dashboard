<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Finance Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Welcome to Your Personal Finance Dashboard</h1>
    <form action="/submit" method="post">
        <label for="income">Income:</label>
        <input type="number" id="income" name="income" required>
        <br>
        <label for="expense">Expense:</label>
        <input type="number" id="expense" name="expense" required>
        <br>
        <input type="submit" value="Submit">
    </form>

    {% if total_income is not none %}
        <h2>Budget Summary</h2>
        <p>Total Income: {{ total_income }}</p>
        <p>Total Expense: {{ total_expense }}</p>
        <p>Remaining Balance: {{ balance }}</p>
    {% endif %}

    <h2>Recorded Incomes</h2>
<ul>
    {% for index in income_indexes %}
        <li>
            {{ incomes[index] }}
            <form action="/edit_income/{{ index }}" method="post" style="display:inline;">
                <input type="number" name="new_income" placeholder="New Income">
                <input type="submit" value="Edit">
            </form>
            <form action="/delete_income/{{ index }}" method="post" style="display:inline;">
                <input type="submit" value="Delete">
            </form>
        </li>
    {% endfor %}
</ul>

<h2>Recorded Expenses</h2>
<ul>
    {% for index in expense_indexes %}
        <li>
            {{ expenses[index] }}
            <form action="/edit_expense/{{ index }}" method="post" style="display:inline;">
                <input type="number" name="new_expense" placeholder="New Expense">
                <input type="submit" value="Edit">
            </form>
            <form action="/delete_expense/{{ index }}" method="post" style="display:inline;">
                <input type="submit" value="Delete">
            </form>
        </li>
    {% endfor %}
</ul>


    {% if incomes or expenses %}
        <h2>Income vs Expense Chart</h2>
        <img src="{{ url_for('static', filename='pie_chart.png') }}" alt="Income vs Expense Chart">
    {% endif %}
</body>
</html>
